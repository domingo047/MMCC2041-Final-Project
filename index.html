<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Lego Timeline</title>
    <link rel="stylesheet" href="style.css"/>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <script>
    $(document).ready(function () {
        // ensure all boxes are hidden and reset to centered position on load
        $('.info-box').hide().css({
            display: 'none',
            top: '50%',
            left: '50%',
            right: '',
            bottom: '',
            transform: 'translate(-50%,-50%)'
        });

        let currentSlide = 0;
        const $slides = $('.slides');
        const $slideElements = $('.slide');
        const totalSlides = $slideElements.length;
        const transitionMs = 700; // should match CSS transition

        function goToSlide(i) {
            currentSlide = Math.max(0, Math.min(i, totalSlides - 1));
            $slides.css('transform', 'translateX(' + (-currentSlide * 100) + 'vw)');
        }

        // keyboard nav (unchanged)
        $(document).keydown(function (e) {
            if (e.key === "ArrowRight" && currentSlide < totalSlides - 1) {
                goToSlide(currentSlide + 1);
            } else if (e.key === "ArrowLeft" && currentSlide > 0) {
                goToSlide(currentSlide - 1);
            }
        });

        // show/hide boxes helper (works for any slide)
        function toggleBoxesFor($slide) {
            const $boxes = $slide.find('.info-box');
            const anyVisible = $boxes.filter(':visible').length > 0;
            const corners = ['corner-bottom-right','corner-top-right','corner-top-left','corner-bottom-left'];

            if (!anyVisible) {
                // hide boxes from other slides and reset inline positioning so CSS corner classes work
                $('.info-box').not($boxes).hide().removeClass(corners.join(' '))
                    .css({ top: '50%', left: '50%', right: '', bottom: '', transform: 'translate(-50%,-50%)', display: 'none' });

                // show this slide's boxes with stagger; remove any inline positioning first
                $boxes.each(function (i) {
                    const $b = $(this);
                    const cls = corners[i] || corners[i % corners.length];

                    $b.stop(true, true)
                        .removeClass(corners.join(' '))
                        .css({ top: '', left: '', right: '', bottom: '', transform: '' }) // allow corner class to control pos
                        .addClass(cls)
                        .css({ display: 'flex', opacity: 0 })
                        .delay(i * 100)
                        .animate({ opacity: 1 }, 350);
                });
            } else {
                // hide and reset this slide's boxes
                $boxes.stop(true, true).fadeOut(250, function () {
                    $(this).removeClass(corners.join(' '))
                        .css({ display: 'none', top: '50%', left: '50%', right: '', bottom: '', transform: 'translate(-50%,-50%)' });
                });
            }
        }

        // click logo: navigate to that slide if needed, then toggle its boxes
        $('.logo').on('click', function (ev) {
            ev.stopPropagation();
            const $slide = $(this).closest('.slide');
            const idx = $slideElements.index($slide);
            if (idx === -1) return;

            if (idx !== currentSlide) {
                goToSlide(idx);
                setTimeout(function () { toggleBoxesFor($slide); }, transitionMs + 20);
            } else {
                toggleBoxesFor($slide);
            }
        });

        // click outside closes any open info boxes
        $(document).on('click', function (e) {
            if (!$(e.target).closest('.logo, .info-box').length) {
                const corners = ['corner-bottom-right','corner-top-right','corner-top-left','corner-bottom-left'];
                $('.info-box:visible').fadeOut(200, function () {
                    $(this).removeClass(corners.join(' '))
                        .css({ display: 'none', top: '50%', left: '50%', right: '', bottom: '', transform: 'translate(-50%,-50%)' });
                });
            }
        });
    });
    </script>
</head>
<body>
    <div class="slides">
        <section class="slide" id="era-1932">
            <img src="logos/Lego_1934.webp" class="logo" id="logo-1932" alt="LEGO 1930s Logo">

            <div class="info-box" id="info1">
                <img src="photos/Ole_Kirk_Christiansen.jpeg" alt="Wooden Toys">
                <p>Founded by Ole Kirk Christiansen in Billund, Denmark.</p>
            </div>

            <div class="info-box" id="info2">
                <img src="photos/wooden-duck.webp" alt="Plastic Machine">
                <p>LEGO started with selling wooden toys in 1932.</p>
            </div>

            <div class="info-box" id="info3">
                <img src="photos/Lego_Blueprint.jpg" alt="Ole Kirk Christiansen">
                <p>Ole Kirk Christiansen's son helped with the design of the toys.</p>
            </div>

            <div class="info-box" id="info4">
                <img src="photos/Leg-Godt.jpg" alt="LEGO Name">
                <p>“LEGO” comes from two Danish words “Leg” and “Godt” which means “Play Well”.</p>
            </div>
        </section>

        <section class="slide" id="era-1940">
            <img src="logos/Lego_1946.webp" class="logo" alt="Era 2 Logo">

            <div class="info-box" id="info5">
                <img src="photos/Injection Molding.webp" alt="First LEGO Brick">
                <p>Ole Kirk Christiansen ordered the plastic injection machine in 1947.</p>
            </div>

            <div class="info-box" id="info6">
                <img src="photos/First Lego Set.jpg" alt="First LEGO Brick">
                <p>The first set of Lego bricks was sold in 1949.</p>
            </div>

            <div class="info-box" id="info7">
                <img src="photos/Lego interlocking studs.avif" alt="First LEGO Brick">
                <p>The modern LEGO brick design with interlocking studs was patented in 1958.</p>
            </div>

            <div class="info-box" id="info8">
                <img src="photos/House fire.webp" alt="First LEGO Brick">
                <p>After 1960 Lego stopped selling wooden toys after a house fire occurred.</p>
            </div>
        </section>

        <section class="slide" id="era-1970">
            <img src="logos/Lego_System_1960.svg" class="logo" alt="Era 3 Logo">

            <div class="info-box" id="info9">
                <img src="photos/lego wheels.jpg" alt="Introduction of LEGO wheels">
                <p>This innovation enabled the first realistic vehicles and later led to specialised sets involving transport and mobility.</p>
            </div>

            <div class="info-box" id="info10">
                <img src="photos/lego castle.jpg" alt="LEGO Castle Theme">
                <p>The first themed sets, including Castle and Space, were launched in the late 1970s.</p>
            </div>

            <div class="info-box" id="info11">
                <img src="photos/lego instructions.webp" alt="LEGO Instructions">
                <p>LEGO moved from boxes of bricks to structured model-based play, beginning the concept of guided assembly with step-by-step instructions.</p>
            </div>

            <div class="info-box" id="info12">
                <img src="photos/LEGOLAND.webp" alt="Opening of the first LEGOLAND Park">
                <p>The theme park demonstrated the scalability and cultural influence of the LEGO System, attracting over 600,000 visitors in its first year.</p>
            </div>
        </section>

        <section class="slide" id="era-1990">
            <img src="logos/Lego_1972.svg" class="logo" alt="Era 4 Logo">

            <div class="info-box" id="info14">
                <img src="photos/Lego minfig.avif" alt="First LEGO Minifigure">
                <p>The first LEGO minifigure was introduced in 1978.</p>
            </div>

            <div class="info-box" id="info13">
                <img src="photos/Screenshot 2025-11-10 175846.png" alt="Launch of LEGO.com and online community presence">
                <p>LEGO entered the internet era with an official corporate and consumer-facing website, beginning its shift into digital ecosystems and online engagement with fans.</p>
            </div>

            <div class="info-box" id="info15">
                <img src="photos/Lego technic.jpg" alt="Establishment of the LEGO Technic line">
                <p>Complex mechanical functions such as gears, axles, and pneumatics encouraged engineering-oriented play and older-age engagement.</p>
            </div>

            <div class="info-box" id="info16">
                <img src="photos/lego mindstorms.png" alt="First digital ventures and launch of Mindstorms">
                <p>The company entered software and robotics. In 1998 LEGO Mindstorms Robotics Invention System was released, becoming one of LEGO’s most influential products.</p>
            </div>
        </section>

        <section class="slide" id="era-2010">
            <img src="logos/Lego.svg" class="logo" alt="Era 5 Logo">

            <div class="info-box" id="info17">
                <img src="photos/lego star wars.jpg" alt="First licensed partnership (LEGO Star Wars)">
                <p>This marked the beginning of major global franchise collaborations, transforming LEGO into a cross-media entertainment brand.</p>
            </div>

            <div class="info-box" id="info18">
                <img src="photos/lego financial.jpg" alt="Financial restructuring and recovery">
                <p>After near bankruptcy due to over-diversification, the company refocused on core sets, leading to a significant turnaround.</p>
            </div>

            <div class="info-box" id="info19">
                <img src="photos/lego movie.webp" alt="Media success and cultural mainstreaming">
                <p>The LEGO Movie (2014), sequels, and tie-in sets elevated LEGO from toy manufacturer to pop-culture icon.</p>
            </div>

            <div class="info-box" id="info20">
                <img src="photos/lego environment.jpg" alt="Sustainability and material innovation">
                <p>LEGO announced a long-term plan to shift to sustainable materials and introduced bricks made from plant-based polyethylene derived from sugarcane.</p>
            </div>
        </section>
    </div>
</body>
</html>